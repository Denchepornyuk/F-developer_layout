(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(39)},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),o=a.n(s),i=a(6),c=a(10),l=a(1),u=a(8),m=a(17),p=a(2),f=a.n(p),d=a(7),_=function(){var e=Object(d.a)(f.a.mark(function e(){var t,a=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"https://frontend-test-assignment-api.abz.agency/api/v1/users?page=1&count=5",e.abrupt("return",fetch(t).then(function(e){return e.json()}));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(d.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://frontend-test-assignment-api.abz.agency/api/v1/positions").then(function(e){return e.json()}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://frontend-test-assignment-api.abz.agency/api/v1/token").then(function(e){return e.json()}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://frontend-test-assignment-api.abz.agency/api/v1/users/"+t).then(function(e){return e.json()}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(f.a.mark(function e(t,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://frontend-test-assignment-api.abz.agency/api/v1/users",{method:"POST",body:t,headers:{Token:a}}).then(function(e){return e.json()}));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),v="GET_USERS",N="GET_POSITION",O="POST_USER",j="POST_USER_ERROR",w="GET_USERS_ERROR",y="START_LOADING",L="STOP_LOADING",k=function(){return{type:y}},U=function(){return{type:L}},S={usersData:[],positions:[],moreUsersURL:"",isLoading:!1,error:null,postError:null},R=Object(u.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(l.a)({},e,{error:null,usersData:[].concat(Object(c.a)(e.usersData),Object(c.a)(t.users.users)),moreUsersURL:t.users.page===t.users.total_pages?null:t.users.links.next_url});case O:return Object(l.a)({},e,{usersData:[].concat(Object(c.a)(e.usersData),[t.user.user])});case j:return Object(l.a)({},e,{postError:t.error});case N:return Object(l.a)({},e,{positions:t.positions});case y:return Object(l.a)({},e,{isLoading:!0});case L:return Object(l.a)({},e,{isLoading:!1});case w:return Object(l.a)({},e,{error:t.error,usersData:null});default:return e}},Object(u.a)(m.a)),P=(a(29),a(30),function(){var e={"About me":"about",Relationships:"relationships",Requirements:"requirements",Users:"users","Sign Up":"sign_up"},t={"About me":"about",Relationships:"relationships",Users:"users","Sign Up":"sign_up","Terms and Conditions":"terms_conditions","How it works":"how_works",Partnership:"partnership",Help:"help","Leave testimonial":"testimonial","Contact us":"contact",Articles:"articles","Our news":"news",Testimonials:"testimonial",Licenses:"licenses","Privacy Policy":"privacy"};return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"header"},r.a.createElement("img",{src:"./images/logo.png",alt:"Test Task",className:"header__logo"}),r.a.createElement("nav",{className:"header__navbar"},r.a.createElement("ul",{className:"navbar__menu"},Object.keys(e).map(function(t){return r.a.createElement("li",{key:t},r.a.createElement("a",{className:"navbar__link",href:"#".concat(e[t])},t))}))),r.a.createElement("input",{type:"checkbox",id:"mobile-menu",className:"header__input"}),r.a.createElement("label",{htmlFor:"mobile-menu",className:"header__label"},r.a.createElement("img",{src:"./images/menu_icon.svg",alt:"menu toggle",className:"header__toggle"})),r.a.createElement("nav",{className:"header__navbar--mobile"},r.a.createElement("ul",{className:"mobile__menu"},Object.keys(t).map(function(e){return r.a.createElement("li",{key:e},r.a.createElement("a",{className:"navbar__link",href:"#".concat(t[e])},e))})))))}),D=(a(31),function(){return r.a.createElement("section",{className:"banner container"},r.a.createElement("img",{src:"./images/banner-photo.jpg",alt:"banner",className:"banner__image"}),r.a.createElement("h1",{className:"banner__title"},"Frontend Developer"),r.a.createElement("p",{className:"banner__description"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis, maiores veniam! Earum libero, voluptas rem deleniti accusantium minus sint obcaecati soluta. Eveniet nemo tempora, laborum tenetur error aut, labore ullam deserunt molestias voluptatibus odio, culpa vel."),r.a.createElement("div",{className:"banner__button"},r.a.createElement("a",{href:"#sign_up",className:"button"},"Sing up now")))}),T=(a(32),function(){return r.a.createElement("section",{className:"about container",id:"about"},r.a.createElement("h1",{className:"about__title"},"Let's get acquainted"),r.a.createElement("div",{className:"about__content"},r.a.createElement("img",{src:"./images/man-laptop-v1.svg",alt:"Man with laptop",className:"about__image"}),r.a.createElement("div",{className:"about__description"},r.a.createElement("h2",{className:"description__title"},"I am cool frontend developer"),r.a.createElement("p",{className:"description__text"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias accusantium quasi corporis? Esse obcaecati porro aliquid cupiditate, libero sed ab.",r.a.createElement("br",null),r.a.createElement("br",null),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias accusantium quasi corporis? Esse obcaecati porro aliquid cupiditate, libero sed ab. Lorem ipsum, dolor sit amet consectetur adipisicing elit."),r.a.createElement("div",{className:"description__link"},r.a.createElement("a",{href:"#sign_up",className:"about__link"},"Sing up now")))))}),x=a(5),F=function(e){return e},q=Object(x.a)(F,function(e){return e.usersData}),C=Object(x.a)(F,function(e){return e.positions||[]}),X=Object(x.a)(F,function(e){return e.moreUsersURL}),z=Object(x.a)(F,function(e){return e.error}),A=Object(x.a)(F,function(e){return e.postError}),G=Object(x.a)(F,function(e){return e.isLoading}),I=(a(33),a(34),a(35),function(){return r.a.createElement("div",{className:"loader__container"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),H=function(e){var t=e.users,a=e.isLoading;return r.a.createElement("div",{className:"users__content"},r.a.createElement("h1",{className:"users__title"},"Our cheerful users"),r.a.createElement("ul",{className:"users__cards"},t.map(function(e){return r.a.createElement("li",{key:e.id,className:"user__card"},r.a.createElement("img",{src:e.photo,alt:e.name,className:"user__photo"}),r.a.createElement("p",{className:"user__name"},e.name),r.a.createElement("p",{className:"user__position"},e.position),r.a.createElement("p",{className:"user__email",title:e.email},e.email),r.a.createElement("p",{className:"user__phone"},e.phone))}),a?r.a.createElement("li",{className:"user__card"},r.a.createElement(I,null)):""))};H.defaultProps={users:[],isLoading:!1};var M=H,B=(a(36),function(e){var t=e.message;return r.a.createElement("div",{className:"error container"},r.a.createElement("p",{className:"error__text"},t),r.a.createElement("a",{href:"/",className:"button error__link"},"Go to Home"))});B.defaultProps={message:"Sorry, something went wrong!!!"};var J=B,Y=function(e){var t=e.users,a=e.error,s=e.isLoading,o=e.moreUsersURL,i=e.loadUsers;return Object(n.useEffect)(function(){return i()},[]),a?r.a.createElement(J,null):(t.sort(function(e,t){return new Date(t.registration_timestamp)-new Date(e.registration_timestamp)}),r.a.createElement("section",{className:"users container",id:"users"},r.a.createElement(M,{users:t,isLoading:s}),null!==o?r.a.createElement("button",{onClick:function(){return i(o)},type:"button",className:"button users__button"},"Show more"):null))};Y.defaultProps={users:[],moreUsersURL:null,error:null,isLoading:!1};var $=Y,K=Object(i.b)(function(e){return{users:q(e),error:z(e),isLoading:G(e),moreUsersURL:X(e)}},{loadUsers:function(e){return function(t){t(k()),_(e).then(function(e){return t({type:v,users:e})}).catch(function(e){return t(function(e){return{type:w,error:e}}(e.message))}).finally(function(){return t(U())})}}})($),Q=a(14),V=(a(37),function(e){var t=e.positionsList,a=e.newUser,n=e.setNewUser,s=e.handleSubmit,o=e.isLoading,i=e.error;return r.a.createElement("form",{className:"register__form",onSubmit:function(e){return s(e)}},r.a.createElement("label",{htmlFor:"user-name"},"Name"),r.a.createElement("input",{type:"text",id:"user-name",name:"name",value:a.name,onChange:function(e){return n(Object(l.a)({},a,{name:e.target.value}))},placeholder:"Your name",minLength:"2",maxLength:"60",required:!0}),r.a.createElement("label",{htmlFor:"user-email"},"Email"),r.a.createElement("input",{type:"email",id:"user-email",name:"email",value:a.email,onChange:function(e){return n(Object(l.a)({},a,{email:e.target.value}))},placeholder:"Your email",pattern:"^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",required:!0}),r.a.createElement("label",{htmlFor:"user-phone"},"Phone number"),r.a.createElement("input",{type:"tel",id:"user-phone",name:"phone",value:a.phone,onChange:function(e){return n(Object(l.a)({},a,{phone:e.target.value}))},placeholder:"+380 XX XXX XX XX",pattern:"^\\+380\\d{9}$",required:!0}),r.a.createElement("span",{className:"phone__format"},"\u0415nter phone number in open format"),r.a.createElement("p",{className:"form__select"},"Select your position"),t.map(function(e){return r.a.createElement("label",{htmlFor:e.name,key:e.name,className:"form__position"},r.a.createElement("input",{type:"radio",name:"position",id:e.name,checked:a.position===e.id,onChange:function(t){return n(Object(l.a)({},a,{position:e.id}))}}),r.a.createElement("span",{className:"checkmark"}),e.name)}),r.a.createElement("label",{htmlFor:"user-photo",className:"form__photo"},"Photo"),r.a.createElement("div",{className:"photo__load"},r.a.createElement("input",{type:"text",name:"photo",id:"user-photo",value:a.image.name,onChange:function(){},className:"photo__input",placeholder:"Upload your photo"}),r.a.createElement("label",{htmlFor:"browse"},"Browse"),r.a.createElement("input",{id:"browse",type:"file",name:"load-photo",className:"photo__file",accept:"image/*",onChange:function(e){return n(Object(l.a)({},a,{image:e.target.files[0]}))}})),o?r.a.createElement("div",{className:"form__loader"},r.a.createElement(I,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"submit",className:"button form__submit"},"Sing up now"),r.a.createElement("p",{className:"form__error"},i?i.message:""),r.a.createElement("p",{className:"form__error--description"},i&&i.fails?Object.values(i.fails)[0]:"")))});V.defaultProps={positionsList:[],newUser:{},isLoading:!1,error:null};var W=V,Z=function(e){var t=e.positionsList,a=e.loadPositions,s=e.postNewUser,o=e.isLoading,i=e.error;Object(n.useEffect)(function(){return a()},[]);var c=Object(n.useState)(""),l=Object(Q.a)(c,2),u=l[0],m=l[1];Object(n.useEffect)(function(){h().then(function(e){return m(e.token)})},[]);var p=Object(n.useState)({name:"",email:"",phone:"",image:"",position:1}),f=Object(Q.a)(p,2),d=f[0],_=f[1];return r.a.createElement("div",{className:"register container",id:"sign_up"},r.a.createElement("h1",{className:"register__title"},"Register to get a work"),r.a.createElement(W,{positionsList:t,newUser:d,setNewUser:_,handleSubmit:function(e){e.preventDefault();var t=new FormData;t.append("position_id",d.position),t.append("name",d.name),t.append("email",d.email),t.append("phone",d.phone),t.append("photo",d.image),s(t,u),_({name:"",email:"",phone:"",image:"",position:1})},isLoading:o,error:i}))};Z.defaultProps={positionsList:[],isLoading:!1,error:null};var ee=Z,te=Object(i.b)(function(e){return{positionsList:C(e),isLoading:G(e),error:A(e)}},{loadPositions:function(){return function(e){b().then(function(t){var a=t.positions;return e(function(e){return{type:N,positions:e}}(a))})}},postNewUser:function(e,t){return function(a){a(k()),g(e,t).then(function(e){e.success?E(e.user_id).then(function(e){return a(function(e){return{type:O,user:e}}(e))}):a({type:j,error:e})}).finally(function(){return a(U())})}}})(ee),ae=(a(38),function(){return r.a.createElement("footer",{className:"footer container"},r.a.createElement("p",{className:"footer__info"},"\u24b8 test task"))}),ne=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null),r.a.createElement("main",null,r.a.createElement(D,null),r.a.createElement(T,null),r.a.createElement(K,null),r.a.createElement(te,null)),r.a.createElement(ae,null))};o.a.render(r.a.createElement(i.a,{store:R},r.a.createElement(ne,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.585a3f89.chunk.js.map